2.0.0

AMIS 2.0.0

2022-06-30

é‡å¤§å˜æ›´ Breaking ChangesğŸ”¥

amis ä» 2.0.0 èµ·æ‹†åˆ†ä¸º Monorepoï¼Œåˆ†ä¸ºä»¥ä¸‹ 4 ä¸ª packageï¼š

amis: æ¸²æŸ“å™¨ç»„ä»¶

amis-uiï¼šamis React ç»„ä»¶ï¼Œå¯ä»¥å•ç‹¬ä½œä¸º UI åº“ä½¿ç”¨ï¼ŒåŒ…å«å›½é™…åŒ–è¯­æ–™æ–‡ä»¶å’Œä¸»é¢˜æ ·å¼æ–‡ä»¶

amis-core: amis åº•å±‚æ¸²æŸ“é€»è¾‘åŠç›¸å…³ utils å‡½æ•°ï¼Œå¦‚æœä½ æƒ³è‡ªå·±å®ç°æ¸²æŸ“å™¨ï¼Œä¾èµ–è¿™ä¸ªå°±å¤Ÿäº†

amis-formula: è´Ÿè´£ amis é‡Œé¢çš„è¡¨è¾¾å¼ã€å…¬å¼åŠæ¨¡æ¿çš„å®ç°

ä» v1 åˆ° v2

ä»…ä½¿ç”¨ amis React ç»„ä»¶çš„ç”¨æˆ·ç°åœ¨å¯ä»¥ç›´æ¥ä½¿ç”¨ amis-uiã€‚

amis ä¼šå°† amis-core å’Œ amis-ui ä¸­çš„å†…å®¹å¯¼å‡ºï¼Œæ¯”å¦‚ import {ToastComponent} from 'amis';ã€‚

v1 ç‰ˆæœ¬ä» amis/lib/\*\*è·¯å¾„ä¸‹å¼•ç”¨çš„æ–‡ä»¶éœ€è¦æ³¨æ„è·¯å¾„æ›´æ–°ã€‚

scss/\_utilities.scss é»˜è®¤ä¸å†åŒ…å«ï¼Œå¦‚éœ€é‡Œé¢çš„å¸®åŠ©ç±»æ ·å¼ï¼Œè¯·å¼•å…¥ amis-ui/lib/helper.css

InputRichText, Editor, InputExcel ç­‰ä¾èµ–ç¬¬ä¸‰æ–¹åº“çš„ç»„ä»¶ç°åœ¨æ”¯æŒæŒ‰éœ€å¼•å…¥äº†ï¼Œå¦‚æœä½ é€šè¿‡ sdk çš„æ–¹å¼ä½¿ç”¨ amisï¼Œåœ¨ä½¿ç”¨å¯¹åº”ç»„ä»¶æ—¶éœ€è¦å°† sdk.tar.gz ä¸­å¯¹åº”çš„ä¾èµ–åŒ…å¼•å…¥ï¼Œä¸¾ä¾‹ï¼š

// å¦‚æœä½ ä½¿ç”¨ tinymce å¯Œæ–‡æœ¬ç¼–è¾‘å™¨

import 'amis/sdk/rest';

import 'amis/sdk/tinymce';

æ–°åŠŸèƒ½ Featuresâœ¨

feat: App å¤šé¡µåº”ç”¨æ”¯æŒé¢åŒ…å±‘å¼€å…³ (#4722) @qianxiaofendou

feat: Switch æ”¯æŒä¸åŒå°ºå¯¸ (#4682) @lurunze1226

feat: input-tree æ”¯æŒ label é«˜äº®æ–‡å­— (#4675) @chengjinyang0

feat: å›½é™…åŒ–è¡¨å• label é€‚é… (#4674) @VitoBeijing

feat: Form è¡¨å• label å›½é™…åŒ–é€‚é… (#4669) @VitoBeijing

feat: è¡¨å•é¡¹å¢åŠ å‚ç…§å½•å…¥ (#4618) @pcdqc

feat: checkboxed æ”¯æŒ menuTpl (#4642) @lurunze1226

feat: InputTag æ”¯æŒ maxï¼ŒmaxTagLengthï¼Œseparator (#4637) @lurunze1226

feat: JSON å±•ç¤ºæ”¯æŒè®¾ç½®æœ€å¤§å±•ç¤ºé•¿åº¦; fix: Debug é¢æ¿æ— æ³•æ¨ªå‘æ»šåŠ¨ (#4632) @lurunze1226

feat: Formï¼ŒFormItem æ”¯æŒè‡ªå®š label å®½åº¦ (#4630) @lurunze1226

feat: crud2 + Condition-builder å¢åŠ å¼¹çª—æ¨¡å¼ + Icon é…ç½®ç›´æ¥æ‹¿åˆ°æ³¨å†Œ icon (#4604) @yangwei9012

featï¼šå¤šè¡Œæ–‡æœ¬æ¡†æ”¯æŒ change äº‹ä»¶ (#4598) @pianruijie

é—®é¢˜ä¿®å¤ Bugfix ğŸ›

fix: ä¿®å¤ input-password åœ¨ antd ä¸‹ä¸æ˜¾ç¤ºé—®é¢˜ (#4742) @nwind

fixï¼štimeLine å±•ç¤ºé—®é¢˜ä¿®å¤ (#4746) @qiaogg

fix:curd loading æ˜¾ç¤ºé—®é¢˜ (#4733) @hsm-lv

fix: InputTag ç»„ä»¶æ‰¹é‡æ·»åŠ é”™è¯¯ç”Ÿæ•ˆé—®é¢˜ (#4734) @lurunze1226

fix: inputRange ä¿è¯ä¸‹æ ‡è¾“å…¥å€¼åœ¨èŒƒå›´å†… (#4732) @kano233333

fix: ä¿®å¤ cards æŠ¥é”™, Card ä¸­æ²¡æœ‰ onSelect äº‹ä»¶,æ‰€ä»¥ä¸éœ€è¦ä¸‹å‘å¯¹åº”é€»è¾‘ (#4731) @2betop

fix: ä¿®å¤ inputFile inputImage é¦–æ¬¡è¡¨å•æäº¤æ•°æ®æ²¡æœ‰æºå¸¦çš„é—®é¢˜ (#4730) @2betop

fix: Wizard ç»„ä»¶ç‚¹å‡»ä¸‹ä¸€æ­¥ä¼šå¤šæäº¤ä¸€æ¬¡é—®é¢˜ (#4729) @lurunze1226

fix: Wizard ç»„ä»¶ç‚¹å‡»ä¸‹ä¸€æ­¥ä¼šå¤šæäº¤ä¸€æ¬¡é—®é¢˜ (#4728) @lurunze1226

fix: ä¿®å¤ flex å¸ƒå±€ä¼ é€’ç»™ flexItem çš„ disabled å±æ€§ bug é—®é¢˜ (#4715) @jiatianqi

fix: tooltipWrapper å®¹å™¨æŒ‚è½½é—®é¢˜ (#4719) @qianxiaofendou

fix: ts å£°æ˜ (#4724) @allenve

fix: ä¸Šä¼ æ–‡ä»¶ä¸èƒ½å›æ˜¾é—®é¢˜ (#4714) @igrowp

fix: äº‹ä»¶åŠ¨ä½œä¿®å¤æ–‡ä»¶ä¸‹è½½é—®é¢˜ (#4705) @igrowp

fix: Table æ— æ³•å¤„ç†åŠ¨ä½œæœªäº¤ç»™ä¸Šå±‚å¤„ç† (#4710) @lurunze1226

fix(amis-ui): å®Œå–„ package exports (#4706) @wibetter

fix: ä¿®å¤ pagination-wrapper perPage è®¾ç½®æ— æ•ˆé—®é¢˜ (#4701) @2betop

fix: å¦‚æœå…ˆ updateEnv ä¼šè®© env é»˜è®¤é…ç½®ä¸¢å¤± (#4699) @2betop

fix: crud åŠ¨æ€åˆ—é—®é¢˜ä¿®å¤ (#4694) @wanglinfang2014

fix: æ–‡ä»¶ä¸Šä¼ è‡ªåŠ¨å¡«å……é—®é¢˜ä¿®å¤ (#4688) @igrowp

fix: è‡ªå®šä¹‰åˆ—æ˜¾ç¤ºé—®é¢˜ä¿®å¤ (#4680) @wanglinfang2014

fix: è§£å†³ä¸Šä¼ æ–‡ä»¶ç»„ä»¶è‡ªåŠ¨å¡«å……å€¼ä¸ºç©ºçš„æƒ…å†µ (#4678) @igrowp

fix: è§£å†³æŒ‰é’®ç»„é’ˆå¯¹ç»Ÿä¸€æŒ‰é’®ä¸»é¢˜ btnLevel & disabled å±æ€§è®¾ç½®ä¸ç”Ÿæ•ˆçš„é—®é¢˜ (#4660) @jiatianqi

fix: ä¿®å¤æ•°æ®æ˜ å°„å¤æ‚å†™æ³•æ²¡æœ‰æ­£ç¡®è¿”å›åŸå§‹æ•°æ®çš„é—®é¢˜ (#4626) @2betop

fix: ä¿®å¤ crud é»˜è®¤ä¸å±•ç¤ºè¿‡æ»¤æ¡ä»¶åˆå§‹è¯·æ±‚æ²¡æœ‰å‘é€çš„é—®é¢˜ (#4658) @2betop

fix: crud è¡¨æ ¼ç­›é€‰ & æ•°æ®åŸŸæ•°ç»„æ•°æ®è·å– & åˆ—è¡¨æ¸²æŸ“æ–¹æ³•æŠ½è±¡æ–¹ä¾¿ç¼–è¾‘å™¨é‡å†™ & å…¬å¼ç¼–è¾‘å™¨å˜é‡é«˜äº®å†…å®¹åŒ…æ‹¬${} (#4668) @yangwei9012

fix: Radios ç»„ä»¶ labelClassName => optionClassNameï¼Œé¿å…å†²çª (#4665) @lurunze1226

fixï¼šå…¬å¼å€¼ç‰¹æ®Šå­—ç¬¦é«˜äº®å¤„ç† (#4631) @allenve

test: inputRange äº‹ä»¶åŠ¨ä½œå•æµ‹ (#4639) @kano233333

fix: inputRange ä¸‹æ ‡ç™¾åˆ†æ¯”æ”¯æŒå°æ•° & å‚æ•°ç±»å‹ä¿®æ”¹ (#4633) @kano233333

fix: autoFill åœ¨é€‰é¡¹æœ‰è”åŠ¨é…ç½®æ—¶ä¼šå‡ºç°é‡å¤è§¦å‘ (#4614) @2betop

fix: ä¿®å¤ textarea ä¸èƒ½è¾“å…¥ä¸­æ–‡çš„é—®é¢˜ (#4613) @2betop

fix(collapse-group): ä¿®å¤ collapse ä¸èƒ½æŠ˜å çš„é—®é¢˜ (#4609) @wibetter

fix(collapse-group): ä¿®æ­£ activeKey æœªæ›´æ–°é—®é¢˜ (#4606) @wibetter

fix: ä¿®å¤ steps ç»„ä»¶è¿œç¨‹æ‹‰å–æŠ¥ findIndex is not a function çš„é—®é¢˜ (#4603) @2betop

fix: input file (#4696) @igrowp

fix: image upload (#4695) @igrowp

fix: å›¾ç‰‡ä¸Šä¼ è‡ªåŠ¨å¡«å……é€»è¾‘è°ƒæ•´ (#4692) @igrowp

fix: table2 é—®é¢˜ä¿®å¤ (#4652) @wanglinfang2014

fix: comb repeat remote verification (#4622) @CheshireJCat

æ ·å¼è°ƒæ•´ Styles ğŸŒˆ

stylesï¼šä¿®å¤ table ç»„ä»¶åˆ—å®½æ‹–æ‹½æ—¶ï¼Œå…‰æ ‡ä½ç½®ä¸å‡†é—®é¢˜ (#4752) @qinhaoyan

stylesï¼šä¿®å¤ antd ä¸»é¢˜ tree ç»„ä»¶å˜é‡ç¼ºå¤± (#4736) @qinhaoyan

style: ä¼˜åŒ– select ä¸‹é¢ checkbox æ ·å¼ (#4723) @2betop

stylesï¼šä¼˜åŒ–æ—¥æœŸèŒƒå›´é€‰æ‹©å™¨å’Œä¸‹æ‹‰æ¡†å¤šé€‰æ¨¡å¼æ ·å¼ (#4712) @qinhaoyan

æ–‡æ¡£æ›´æ–° Docs

doc: æ–‡æ¡£ä¸­é”™è¯¯çš„å¼•å…¥è·¯å¾„æ›´æ–° (#4751) @lurunze1226

doc: æ·»åŠ  combo setValue äº‹ä»¶åŠ¨ä½œç¤ºä¾‹ (#4717) @2betop

doc: æ›´æ­£ crud æ–‡æ¡£é”™è¯¯ (#4700) @2betop

docï¼šå®Œå–„ inputText äº‹ä»¶è¡¨ (#4657) @weijian1

doc: è¡¥å……å®Œå–„ inputTable æŒ‰é’®è§¦å‘æ–°å¢è¡Œæ–‡æ¡£ (#4662) @weijian1

doc: ä¿®å¤æ ·å¼æ–‡æ¡£ä¸‹æœç´¢æ æ— æ³•è¾“å…¥é—®é¢˜ (#4648) @lurunze1226

doc: ä¿®å¤ç›¸å¯¹å€¼çš„è·³è½¬é“¾æ¥ (#4611) @TeCHiScy

doc: ä¿®å¤æ–‡æ¡£ä¸­ç¤ºä¾‹ code å¤šä½™ç©ºæ ¼å¯¼è‡´çš„æŠ¥é”™ (#4601) @iceqing

doc: Update image.md (#4698) @SmallRuralDog

æ—¥å¸¸ç»´æŠ¤ Chore

chore: è°ƒæ•´ esm æ¨¡å—å¯¼å‡º (#4635) @2betop

chore: å¯¼å‡º excel å¤šåšä¸€äº›ç±»å‹åˆ¤æ–­å…¼å®¹ (#4659) @2betop

chore: å‡å° input è¾“å…¥æ¡†åˆå§‹å¤§å°é¿å… tree-select åœ¨ size: md ä¸‹å®¹æ˜“æŠ˜è¡Œ (#4587) (#4588) @nwind

chore: vscode å¿½ç•¥ä¸´æ—¶æ–‡ä»¶é¿å…å¡é¡¿ (#4607) @nwind

chore: æ›´æ–° QRCode å•å…ƒæµ‹è¯• (#4713) @lurunze1226

cherry-pick: Action ä¸­ Required å±æ€§å’Œ Form æ ¡éªŒåˆå¹¶ #4689 #4677 (#4697) @lurunze1226

cherry-pick: Select ç»„ä»¶å¼€å¯è™šæ‹Ÿåˆ—è¡¨åæ˜¾ç¤ºé—®é¢˜#4548 #4516 (#4572) @lurunze1226
